{% extends "base.html" %}

{% block title %}Мой профиль - СтройМаг{% endblock %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <h2> Мой профиль</h2>
        <span class="role-badge {{ 'staff' if user.role == 'staff' else 'client' }}">
            {{ 'Сотрудник' if user.role == 'staff' else 'Клиент' }}
        </span>
    </div>

    <div class="profile-card">
        <!-- Личные данные -->
        <div class="profile-section">
            <h3 class="section-title">Личные данные</h3>
            <div class="data-grid">
                <div class="data-field">
                    <span class="data-label">Фамилия</span>
                    <span class="data-value">{{ user.last_name }}</span>
                </div>
                <div class="data-field">
                    <span class="data-label">Имя</span>
                    <span class="data-value">{{ user.first_name }}</span>
                </div>
                {% if user.patronymic %}
                <div class="data-field">
                    <span class="data-label">Отчество</span>
                    <span class="data-value">{{ user.patronymic }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Контакты -->
        <div class="profile-section">
            <h3 class="section-title">Контакты</h3>
            <div class="data-grid">
                <div class="data-field">
                    <span class="data-label"> Email</span>
                    <span class="data-value">{{ user.email }}</span>
                </div>
                {% if user.phone %}
                <div class="data-field">
                    <span class="data-label"> Телефон</span>
                    <span class="data-value">{{ user.phone }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Аккаунт -->
        <div class="profile-section">
            <h3 class="section-title">Аккаунт</h3>
            <div class="data-grid">
                <div class="data-field">
                    <span class="data-label">ID</span>
                    <span class="data-value code">{{ user.user_id }}</span>
                </div>
                {% if user.created_at %}
                <div class="data-field">
                    <span class="data-label">Дата регистрации</span>
                    <span class="data-value">{{ user.created_at.strftime('%d.%m.%Y') }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Действия -->
        <div class="profile-actions">
            <a href="/profile/me/change_password" class="action-btn btn-primary">
                Сменить пароль
            </a>
            <a href="/products/catalog" class="action-btn btn-secondary">
                Вернуться в каталог
            </a>
        </div>
    </div>
</div>
{% endblock %}