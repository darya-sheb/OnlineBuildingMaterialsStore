{% extends "base.html" %}

{% block title %}Каталог товаров - СтройМаг{% endblock %}

{% block content %}
<h2>Каталог строительных материалов</h2>

{% for product in products %}
<div class="product-card">
    <div class="product-image">
        {% if product.image_path %}
            <img src="{{ product.image_path }}" alt="Фото {{ product.name }}" width="200">
        {% else %}
            <div style="width:200px; height:150px; background:#eee; display:flex; align-items:center; justify-content:center;">
                Нет фото
            </div>
        {% endif %}
    </div>
    <h4 class="product-title">{{ product.name }}</h4>
    <p class="product-manufacturer"><strong>Производитель:</strong> {{ product.manufacturer }}</p>
    <p class="product-price"><strong>Цена:</strong> {{ product.price }} руб</p>
    <p class="product-unit"><strong>Единица измерения:</strong> {{ product.unit }}</p>
    <p class="product-stock"><strong>В наличии:</strong> {{ product.quantity_available }} {{ product.unit }}</p>

    <div>
        <label><strong>Количество:</strong></label>
        <input type="number" class="quantity-input" value="1" min="1" max="{{ product.quantity_available }}" data-product-id="{{ product.id }}">
        <span>{{ product.unit }}</span>
    </div>

    <div style="margin-top: 20px;">
        <button class="add-to-cart" data-product-id="{{ product.id }}">Добавить в корзину</button>
    </div>
</div>
{% endfor %}
{% endblock %}
